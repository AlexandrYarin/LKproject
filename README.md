# **Анализ доставок компании LevelKitchen**

## **Описание проекта**

На протяжении долгого времени я работал курьером в компании LevelKitchen, которая занимается доставкой сбалансированного питания на насколько дней. За последний год я начал изучать Data Sciense и решил, что к дипломному проекту для школы SkillFactory подойду с накопленной базой данных о всех доставках данной компании в городе Екатеринбург. Мне удалось собрать почти все xslx-файлы с доставками на каждый день. На основе этой базы я хочу проанализировать данные и приступить к решению задуманных задач.

## **Задачи**
**1. Собрать из всех файлов единую таблицу с транзакциями клиентов и таблицу, характеризующую каждого клиента по отдельности.**

**2. Провести анализ всех доставок, найти закономерности и тенденции поведения клиентов.**

**3. Осуществить кластеризацию клиентов. Обозначить характер каждой группы.**

**4. Суметь предсказать количество доставок на n-количество дней при помощи анализа временных рядов.**

## **Определения**
Для облегчения понимания данной работы, я хочу с самого начала прояснить некоторые определения, которые, возможно, не сразу будут понятны при первом чтении.
    
**О доставке:**

Компания осуществляет доставку комплексного питания на несколько дней. Количество дней, на протяжении которых, клиенту будут возить еду, выбирает сам клиент. Промежуток варьируется от 2 до 30 дней. Но также бывают исключения например в виде акций, где клиент может заказать пробный пакет с приемами пищи на один день. Чтобы продукты не портились, клиенту доставляют питание раз в два дня. Для примера: человек, который заказал питание на 4 дня на понедельник, будет ждать курьера два раза - в понедельник и среду.

**О рационах:**

Компания предоставляет выбор в заказе еды по общей калорийности в день. В данном датасэте фигурируют разные калорийности от 750ккал до 3500ккал. Но так как компания имеет несколько линеек питания, в коде будут видны и другие именования рационов питания, такие как M, S, XS и так далее. Особое внимание заострять на них не нужно, это всего лишь название рациона.

**Об интервале доставки:**

Также клиент может выбрать интервал доставки. Интервал составляет обычно два часа, например с 6 до 8, с 7 до 9 и так далее. Но есть и исключения в виде экспресс доставок, которые доставляются в интервал в размере часа. Развоз питания осуществляется с 6 утра до 12 дня.

Имея 160 тыс. строк доставок, датасэт оказался не совсем информативным, как мог быть. Данные xlsx-файлы собирались поэтапно и вручную. В них информации было столько, сколько нужно курьеру и ничего лишнего. Уверен, что у компании есть намного больше данных о клиентах. Надеюсь в будущем получится получить эти данные и расширить свой проект.

## **Выводы**
[Пункт 1:](https://github.com/AlexandrYarin/LKproject/blob/main/1.%20Make_data.ipynb)

Удалось собрать из несколько десятков xlsx-файлов один датасэт о доставках, а также из него вывести отдельный датасэт о каждом клиенте

[Пункт 2:](https://github.com/AlexandrYarin/LKproject/blob/main/2.%20EDA.ipynb)

Получилось проанализировать бизнес компании LevelKitchen:

1. Самый популярный продукт это 1500ккал.
2. Четверть доставок происходит в интервал с 6 до 8 утра.
3. Большинство заказов происходит в черте города.
4. Погодные условия никак не влияют на количество доставок.
5. Если брать сезонную составляющую, то летом происходит спад. Также спад присутствует в январе и марте.
6. Подъем же происходит в ноябре, декабре и феврале. 
7. Самыми загруженными днями являются понедельник, среда и пятница.

[Пункт 3:](https://github.com/AlexandrYarin/LKproject/blob/main/3.%20Clustering.ipynb)

Получилось провести кластеризацию при помощи разных моделей, таких как AgglomerativeClustering, Gaussian Mixture, MiniBatchKMeans.

Получилось определить количество кластеров. Три кластера способны охарактеризовать клиентов.

**Первая группа(Красная):** Самая маленькая группа. 35% клиентов этой группы заказывали всего лишь один раз. Отличается от всех тем, что заказывает в бОлшей степени питание на один день. Из пункта "Определения" ясно, что данный вид заказа является акционным. То есть данные клиенты попробовав один раз продукт по выгодной цене, больше не захотели продолжать пользоваться услугами компании. На эту группу стоит обратить внимание и выяснить в чем причина отказа сотрудничества.

**Вторая группа(Синяя):** Это лояльные клиенты. Каждый клиент из этой группы заказывал доставку больше чем один раз. А на практике много клиентов заказывают на протяжении всего года. Средняя группа по численности. Так как клиенты данной группы заказывают продолжительное время, они отличаются от остальных групп тем, что экспериментируют с выбором рациона, хотя бы один раз. Данная группа больше всего принесла прибыли, хоть и намного меньше по численности чем следующая

**Третья группа(зеленые):** Данная группа самая многочисленная. Очень похожа на первую группу. Также имеет большой процент клиентов(30%), которые заказывали всего один раз. Но отличается от красной группы тем, что заказывает не акционную продукцию. На данную группу тоже нужно обратить внимание.

Если подытожить, то:

**Красная группа:** Любители акций

**Синяя группа:** Лояльные клиенты

**Зеленая группа:** Недовольные сервисом клиенты

[Пункт 4:](https://github.com/AlexandrYarin/LKproject/blob/main/4.%20Time-series%20.ipynb)

Получилось построить модель SARIMAX, которая неплохо предугадывает тренд и может предсказать на несколько дней достаточно точное количество заказов. Это очень важный показатель, так как зная примерное значение доставок на завтрашний день, можно рассчитать ресурсы которые понадобятся для осуществления будущих заказов.

